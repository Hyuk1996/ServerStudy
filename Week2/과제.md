# 2주 차 과제

<br/>

## 1. Local server 구축 

Window/MacOS 환경에서 Apache PHP MySQL (Bitnami) 이용해 local server 구축하기.

<br/>

- **진행 순서** 

1. bitnami 이용 mapm 설치하기
2. port forwarding 하기 

<br/>

일단 local server를 구축하기 위해서 bitnami에서 mapm을 설치해 서버 환경을 만들어줘야 한다. 

설치 과정은 어렵지 않았다. [설치 링크](https://bitnami.com/stack/mamp/installer) 링크로 들어가 mapm을 원하는 version을 다운로드해서 설치하면 된다. 설치가 완료후 apm을 실행시켜주면 local server가 구축된다. 

<br/>

- bitnami?

bitnami는 다양한 환경에서 애플리케이션을 설치, 배포, 유지하기 위한 통합 설치 패키지를 제공하는 회사이다. 그리고 이런 통합 설치 패키지를 스택이라고 부른다. 

<hr/>

<br/>

1번 과정을 완료했으면 port forwarding 으로 외부에서 내 server에 접속 할 수 있게 해줘야 한다. 

<br/>

- port forwarding

외부에서 내 IP로 접속하기 위해서는 port forwarding을 해줘야 한다. port forwarding을 위해서는 내부 IP 주소와 외부 IP 주소를 알아야 한다. 

내부 IP 주소는 터미널에서 'ifconfig | grep inet' 명령어를 통해서 알 수 있다. 

외부 IP 주소는 터미널에서 curl ipecho.net/plain 명령어를 통해 알 수 있다. 

<hr/>

- 마무리

위 두 가지 작업을 해주었다면 외부 IP 주소와 port forwarding 한 port 번호로 외부에서 접근하면 내 local server에 접근이 가능할 것이다. 

여기서 주의해야 할 점은 공유기의 내부 IP 할당 방식이 DHCP이므로 네트워크에 접속할 때마다 내부 IP 주소가 바뀌기 때문에 포트 포워딩을 다시 해줘야 한다.  

<br/>

<br/>

## 2. AWS 서버 구축

AWS이용 linux 환경에 Nginx PHP MySQL 이용해서 서버 구축하기

<br/>

- **진행 순서**

1. AWS의 EC2를 이용해 가상 컴퓨터 할당 받기
2. AWS 인스턴스에 접속하기
3. AWS 인스터스에 Nginx PHP MySQL 설치

<br/>

일단 AWS EC2(Elastic Compute Cloud) 인스턴스를 만들어 가상 컴퓨터를 할당 받아야 한다. 

첫 번째 작업을 해주면 AWS 인스턴스를 얻는다. 이것의 의미는 내가 작업할 ubuntu server을 AWS에서 빌린 것이다. 

<br/>

- AWS?

AWS는 Amazon Web Services의 약자로 아마존에서 운영하는 Cloud Computing Platform 이다. 

따라서 사용자는 컴퓨터에 하드웨어적인 부분은 신경을 쓰지 않아도 AWS를 이용하면 손쉽게 서버를 구축할 수 있다. 

<hr/>

<br/>

첫 번째 작업을 완료했으면 이제 첫 번째 작업에서 부터 얻어온 AWS 인스턴스에 ssh를 이용해 원격으로 접근해야 한다. 

<br/>

- SSH?

SSH는 Secure Shell Protol로 다른 컴퓨터와 public network를 통해 통신할 때 보안적으로 안전하게 통신하기 위해 쓰는 프로토콜이다. 

따라서 SSH를 이용해 AWS 인스턴스 서버에 안전하게 접근할 수 있다. 그리고 sftp는 ssh의 파일 전송 버전이라고 생각하면 된다. 

- Tip

Cyberduck을 이용하면 SFTP(SSH) 를 GUI 환경해서 할 수 있다. 

<hr/>

<br/>

정상적으로 AWS 인스턴스에 접근했으면 이제 서버를 구축하는데 필요한 tool들을 패키지 매니저(apt)를 이용해 설치해주면 된다. [설치 과정](https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04)

<br/>

첫 번째로는 apt를 이용해 Nginx를 설치했다. 

```
sudo apt install nginx
```

설치 후 AWS 인스턴스 서버IP로 접근하면 nginx가 제대로 설치 되어 있으면 nginx 페이지가 나온다. 

<br/>

두 번째로 mysql을 설치했다. 

```
sudo apt install mysql-server
```

설치 후 ps -ef | grep mysql 을 이용하면 mysql이 설치되었음을 알 수 있다. 그리고 mysql -u root -p 명령어를 이용해 mysql에 접속할 수 있다. 

<br/>

마지막으로 php를 설치했다. 

```
sudo apt install php-fpm php-mysql
```