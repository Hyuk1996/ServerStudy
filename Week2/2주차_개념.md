# 2주 차 개념 정리

<br/>

- **더 자세한 서버의 동작 과정**

2주 차에는 더 자세한 서버의 동작 과정에 대해서 배웠다. 

<br/>

컴퓨터 용어는 보통 실제 세상에서 그 개념을 가져오는 경우가 많다. 

여러 프렌차이 식당들을 생각해 보자. 예를 들어 아웃백, 스타벅스, 김밥천국을 생각해 보자. 각각의 식당들은 손님이 서버에게 주문하는 방식에 차이가 있다. 

<br/>

이를 IT 용어로 말하면 client들은 Server와 특정 규칙을 가지고 데이터를 주고받고, 서버에 따라 그 규칙이 다르다. 이때 client와 server가 데이터를 주고받는 규칙을 IT 용어로 protocol이라고 한다. 

자주 사용하는 protocol로는 http, https, sftp, ssh, mysql... 등이 있다. 웹 서버에서는 주로 http protocol을 이용한다. http protocol에 대해서 좀 더 자세히 말하면 http protocol의 데이터 단위는 packet이고, packet은 header와 body로 구성돼 있다. 

<br/>

<br/>

- **서버에 접속하기 위해 알아야 하는 것**

서버에 접속하기 위해서는 서버의 ip 주소 그리고 port 번호를 알아야 한다. 이를 스타벅스에 비유하면 ip 주소는 해당 스타벅스의 주소, port는 출입문이다. 

일반적으로 http는 80번, https는 433번, ssh,sftp는 22번 mysql은 3306번을 port 번호로 사용한다. 

<br/>

<br/>

- **내 컴퓨터 서버화하기**

내 컴퓨터를 서버화하려면 다음과 같은 단계를 거쳐야 한다. 

1. 내 컴퓨터에서 server software을 실행시킨다. 
2. 내 IP 주소와 데이터를 받을 port 번호를 외부에 알려준다. 

<br/>

만약 우리가 공유기(private networking)를 사용한다면 2번 과정에는 port forwarding이 필요하다. 

<br/>

- Port forwarding?

우리가 일반적으로 사용하는 공유기는 DHCP(Dynamic Host Configuration Protocol) 방식을 이용해 연결한 기기들에게 동적으로 내부 IP 주소를 할당해 준다. 따라서 나의 컴퓨터는 외부 IP 주소가 아니라 내부 IP 주소를 갖게 된다. 

따라서 외부에서 내 컴퓨터에 특정 요청을 하기 위해서는 내 컴퓨터의 내부 IP 주소가 아니라, 공유기의 외부 IP 주소와 port 번호를 통해서 요청해야 한다. 

이때 우리가 외부에서 온 요청을 받기 위해서는 공유기 IP 주소로 특정 port 번호의 요청이 오면 내 컴퓨터의 내부 IP 주소로 해당 요청을 보내주도록 설정해야 한다. 그리고 이런 설정 과정을 port forwarding이라고 한다. 

<br/>

<br/>

- **일반적인 서버의 환경**

어느 회사에서 서버 환경을 구축하는 방법은 두 가지가 있다. 

1. On-premise
2. Cloud

<br/>

On-premise 방식은 내가 서버 환경을 구축할 때 처음부터 끝까지 모든 과정을 스스로 하는 방식이다. 간단하게 말하면 직접 전산실을 만들고 거기에 서버를 설치해 직접 운영하는 방식이다. 

이는 보안적으로는 매우 안전하나, 초기 비용이 많이 들고 전문적인 지식이 많이 필요하다.

<br/>

Cloud 방식은 다른 전문적인 곳에서 서버 환경을 다 구축해 준 뒤 사용자에게 서버의 IP 주소를 주어 서버를 운영할 수 있게 해주는 방식이다. 

이는 보안적으로는 On-premise 방식에 비해 안전하지 않지만, 초기 비용이 거의 안 들고 진입장벽이 낮다. 

